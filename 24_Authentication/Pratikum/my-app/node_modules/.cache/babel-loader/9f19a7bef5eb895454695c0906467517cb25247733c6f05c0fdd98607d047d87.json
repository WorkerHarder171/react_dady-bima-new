{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { v4 as uuid } from \"uuid\";\nconst initialState = {\n  products: [{\n    id: uuid(),\n    name: \"Teh Olong\",\n    category: \"Mercedes\",\n    freshness: \"Brand New\",\n    price: 90000,\n    image: null,\n    additional: \"Ini merupakan teh pilihan\"\n  }, {\n    id: uuid(),\n    name: \"Kopi Arabica\",\n    category: \"Audi\",\n    freshness: \"Second Hand\",\n    price: 80000,\n    image: null,\n    additional: \"Ini merupakan biji kopi pilihan\"\n  }, {\n    id: uuid(),\n    name: \"Roti Panggang\",\n    category: \"Volvo\",\n    freshness: \"Refurbished\",\n    price: 100000,\n    image: null,\n    additional: \"Ini merupakan Roti terbaik yang pernah ada\"\n  }]\n};\nexport const fetchProduct = createAsyncThunk(\"products/fetchProduct\", () => {\n  return axios.get(\"https://652a1c1155b137ddc83f4d53.mockapi.io/product\").then(response => response.data.map(data => data.id));\n});\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: builder => {\n    builder.addProduct(fetchProduct.pending, state => {\n      state.loading = true;\n    });\n    builder.addProduct(fetchProduct.fulfilled, (state, actions) => {\n      state.loading = false;\n      state.products = [...state.products, actions.payload];\n      state.error = \"\";\n    });\n\n    // //function untuk menambahkan data object yang ada pada array products di initialState\n    // addProduct: (state, actions) => {\n    //   state.products = [...state.products, actions.payload];\n    //   console.log(\"cheked:\", actions.payload);\n    // },\n\n    //function untuk melakukan edit data object yang telah ada pada array products\n    // editProduct: (state, actions) => {\n    //   const { id, name, category, image, freshness, additional, price } =\n    //     actions.payload;\n    //   const productIndex = state.products.findIndex((data) => data.id === id);\n    //   if (productIndex !== -1) {\n    //     state.products[productIndex] = {\n    //       ...state.products[productIndex],\n    //       name: name,\n    //       category: category,\n    //       image: image,\n    //       freshness: freshness,\n    //       additional: additional,\n    //       price: price,\n    //     };\n    //   }\n    // },\n\n    //function untuk melakukan penghapusan data yang ada\n    // deleteProduct: (state, action) => {\n    //   state.products = state.products.filter((data) => {\n    //     if (data.id !== action.payload) {\n    //       return { data };\n    //     }\n    //     return alert(\"Apakah anda ingin menghapus product ini?\");\n    //   });\n    // },\n  }\n});\n\nexport const {\n  addProduct,\n  editProduct,\n  deleteProduct\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","v4","uuid","initialState","products","id","name","category","freshness","price","image","additional","fetchProduct","get","then","response","data","map","productSlice","extraReducers","builder","addProduct","pending","state","loading","fulfilled","actions","payload","error","editProduct","deleteProduct","reducer"],"sources":["/home/aboutme/Documents/react_dady-bima/22_Introduction Restfull API/Pratikum/my-app/src/redux/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  products: [\n    {\n      id: uuid(),\n      name: \"Teh Olong\",\n\n      category: \"Mercedes\",\n\n      freshness: \"Brand New\",\n\n      price: 90000,\n\n      image: null,\n      additional: \"Ini merupakan teh pilihan\",\n    },\n    {\n      id: uuid(),\n      name: \"Kopi Arabica\",\n\n      category: \"Audi\",\n\n      freshness: \"Second Hand\",\n\n      price: 80000,\n\n      image: null,\n\n      additional: \"Ini merupakan biji kopi pilihan\",\n    },\n    {\n      id: uuid(),\n      name: \"Roti Panggang\",\n\n      category: \"Volvo\",\n\n      freshness: \"Refurbished\",\n\n      price: 100000,\n\n      image: null,\n\n      additional: \"Ini merupakan Roti terbaik yang pernah ada\",\n    },\n  ],\n};\n\nexport const fetchProduct = createAsyncThunk(\"products/fetchProduct\", () => {\n  return axios\n    .get(\"https://652a1c1155b137ddc83f4d53.mockapi.io/product\")\n    .then((response) => response.data.map((data) => data.id));\n});\n\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: (builder) => {\nbuilder.addProduct(fetchProduct.pending, (state) => {\n  state.loading = true\n})\nbuilder.addProduct(fetchProduct.fulfilled, (state, actions) => {\nstate.loading = false\nstate.products = [...state.products, actions.payload]\nstate.error = \"\"\n})\n\n    // //function untuk menambahkan data object yang ada pada array products di initialState\n    // addProduct: (state, actions) => {\n    //   state.products = [...state.products, actions.payload];\n    //   console.log(\"cheked:\", actions.payload);\n    // },\n\n    //function untuk melakukan edit data object yang telah ada pada array products\n    // editProduct: (state, actions) => {\n    //   const { id, name, category, image, freshness, additional, price } =\n    //     actions.payload;\n    //   const productIndex = state.products.findIndex((data) => data.id === id);\n    //   if (productIndex !== -1) {\n    //     state.products[productIndex] = {\n    //       ...state.products[productIndex],\n    //       name: name,\n    //       category: category,\n    //       image: image,\n    //       freshness: freshness,\n    //       additional: additional,\n    //       price: price,\n    //     };\n    //   }\n    // },\n\n    //function untuk melakukan penghapusan data yang ada\n    // deleteProduct: (state, action) => {\n    //   state.products = state.products.filter((data) => {\n    //     if (data.id !== action.payload) {\n    //       return { data };\n    //     }\n    //     return alert(\"Apakah anda ingin menghapus product ini?\");\n    //   });\n    // },\n  },\n});\n\nexport const { addProduct, editProduct, deleteProduct } = productSlice.actions;\n\nexport default productSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,EAAE,IAAIC,IAAI,QAAQ,MAAM;AAEjC,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,CACR;IACEC,EAAE,EAAEH,IAAI,CAAC,CAAC;IACVI,IAAI,EAAE,WAAW;IAEjBC,QAAQ,EAAE,UAAU;IAEpBC,SAAS,EAAE,WAAW;IAEtBC,KAAK,EAAE,KAAK;IAEZC,KAAK,EAAE,IAAI;IACXC,UAAU,EAAE;EACd,CAAC,EACD;IACEN,EAAE,EAAEH,IAAI,CAAC,CAAC;IACVI,IAAI,EAAE,cAAc;IAEpBC,QAAQ,EAAE,MAAM;IAEhBC,SAAS,EAAE,aAAa;IAExBC,KAAK,EAAE,KAAK;IAEZC,KAAK,EAAE,IAAI;IAEXC,UAAU,EAAE;EACd,CAAC,EACD;IACEN,EAAE,EAAEH,IAAI,CAAC,CAAC;IACVI,IAAI,EAAE,eAAe;IAErBC,QAAQ,EAAE,OAAO;IAEjBC,SAAS,EAAE,aAAa;IAExBC,KAAK,EAAE,MAAM;IAEbC,KAAK,EAAE,IAAI;IAEXC,UAAU,EAAE;EACd,CAAC;AAEL,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGd,gBAAgB,CAAC,uBAAuB,EAAE,MAAM;EAC1E,OAAOE,KAAK,CACTa,GAAG,CAAC,qDAAqD,CAAC,CAC1DC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAED,IAAI,IAAKA,IAAI,CAACX,EAAE,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,OAAO,MAAMa,YAAY,GAAGnB,WAAW,CAAC;EACtCO,IAAI,EAAE,UAAU;EAChBH,YAAY;EACZgB,aAAa,EAAGC,OAAO,IAAK;IAC9BA,OAAO,CAACC,UAAU,CAACT,YAAY,CAACU,OAAO,EAAGC,KAAK,IAAK;MAClDA,KAAK,CAACC,OAAO,GAAG,IAAI;IACtB,CAAC,CAAC;IACFJ,OAAO,CAACC,UAAU,CAACT,YAAY,CAACa,SAAS,EAAE,CAACF,KAAK,EAAEG,OAAO,KAAK;MAC/DH,KAAK,CAACC,OAAO,GAAG,KAAK;MACrBD,KAAK,CAACnB,QAAQ,GAAG,CAAC,GAAGmB,KAAK,CAACnB,QAAQ,EAAEsB,OAAO,CAACC,OAAO,CAAC;MACrDJ,KAAK,CAACK,KAAK,GAAG,EAAE;IAChB,CAAC,CAAC;;IAEE;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;AACF,CAAC,CAAC;;AAEF,OAAO,MAAM;EAAEP,UAAU;EAAEQ,WAAW;EAAEC;AAAc,CAAC,GAAGZ,YAAY,CAACQ,OAAO;AAE9E,eAAeR,YAAY,CAACa,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
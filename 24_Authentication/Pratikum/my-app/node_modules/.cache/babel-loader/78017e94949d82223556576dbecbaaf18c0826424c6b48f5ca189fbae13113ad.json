{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { restFullAPI } from \"../api/productAPI\";\nconst initialState = {\n  products: [],\n  status: \"idle\",\n  error: null\n};\nexport const fetchApiProduct = createAsyncThunk(\"products/fetchApiProduct\", restFullAPI.getPost);\nexport const postApiProduct = createAsyncThunk(\"products/postApiProduct\", restFullAPI.addProduct);\nexport const deleteApiProduct = createAsyncThunk(\"product/deleteApiProduct\", restFullAPI.deleteProduct);\nexport const editApiProduct = createAsyncThunk(\"product/editApiProduct:id\", async data => {\n  const response = await restFullAPI.editProduct(data.id, data);\n  return response;\n});\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(fetchApiProduct.pending, state => {\n      state.status = \"loading\";\n    });\n    builder.addCase(fetchApiProduct.fulfilled, (state, {\n      payload\n    }) => {\n      state.status = \"succeeded\";\n      state.products = payload.payload;\n    });\n    builder.addCase(fetchApiProduct.rejected, (state, {\n      payload\n    }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(postApiProduct.pending, state => {\n      state.status = \"loading\";\n    });\n    builder.addCase(postApiProduct.fulfilled, (state, {\n      payload\n    }) => {\n      state.status = \"succeeded\";\n      state.products = payload;\n      // console.log(\"cheked:\", action.payload);\n    });\n\n    builder.addCase(postApiProduct.rejected, (state, {\n      payload\n    }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(deleteApiProduct.pending, state => {\n      state.status = \"loading\";\n    });\n    builder.addCase(deleteApiProduct.fulfilled, (state, {\n      payload\n    }) => {\n      state.status = \"succeeded\";\n      state.products = payload = state.products.filter(data => data.id !== payload);\n    });\n    builder.addCase(deleteApiProduct.rejected, (state, {\n      payload\n    }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(editApiProduct.pending, (state, {\n      payload\n    }) => {\n      state.status = \"loading\";\n      state.products = payload;\n    });\n    builder.addCase(editApiProduct.fulfilled, (state, {\n      payload\n    }) => {\n      state.status = \"succeeded\";\n      state.products = payload;\n      console.log(state);\n      console.log(payload);\n    });\n    builder.addCase(editApiProduct.rejected, (state, {\n      payload\n    }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n  }\n});\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","restFullAPI","initialState","products","status","error","fetchApiProduct","getPost","postApiProduct","addProduct","deleteApiProduct","deleteProduct","editApiProduct","data","response","editProduct","id","productSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","payload","rejected","message","filter","console","log","reducer"],"sources":["/home/aboutme/Documents/react-full-stress/my-app/src/redux/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { restFullAPI } from \"../api/productAPI\";\n\nconst initialState = {\n  products: [],\n  status: \"idle\",\n  error: null,\n};\n\nexport const fetchApiProduct = createAsyncThunk(\n  \"products/fetchApiProduct\",\n  restFullAPI.getPost\n);\n\nexport const postApiProduct = createAsyncThunk(\n  \"products/postApiProduct\",\n  restFullAPI.addProduct\n);\n\nexport const deleteApiProduct = createAsyncThunk(\n  \"product/deleteApiProduct\",\n  restFullAPI.deleteProduct\n);\n\nexport const editApiProduct = createAsyncThunk(\n  \"product/editApiProduct:id\",\n  async (data) => {\n    const response = await restFullAPI.editProduct(data.id, data);\n    return response;\n  }\n);\n\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: (builder) => {\n    builder.addCase(fetchApiProduct.pending, (state) => {\n      state.status = \"loading\";\n    });\n    builder.addCase(fetchApiProduct.fulfilled, (state, { payload }) => {\n      state.status = \"succeeded\";\n      state.products = payload.payload;\n    });\n    builder.addCase(fetchApiProduct.rejected, (state, { payload }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(postApiProduct.pending, (state) => {\n      state.status = \"loading\";\n    });\n    builder.addCase(postApiProduct.fulfilled, (state, { payload }) => {\n      state.status = \"succeeded\";\n      state.products = payload;\n      // console.log(\"cheked:\", action.payload);\n    });\n    builder.addCase(postApiProduct.rejected, (state, { payload }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(deleteApiProduct.pending, (state) => {\n      state.status = \"loading\";\n    });\n    builder.addCase(deleteApiProduct.fulfilled, (state, { payload }) => {\n      state.status = \"succeeded\";\n      state.products = payload\n      = state.products.filter((data) => data.id !== payload);\n    });\n    builder.addCase(deleteApiProduct.rejected, (state, { payload }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n    builder.addCase(editApiProduct.pending, (state, { payload }) => {\n      state.status = \"loading\";\n      state.products = payload;\n    });\n    builder.addCase(editApiProduct.fulfilled, (state, { payload }) => {\n      state.status = \"succeeded\";\n      state.products = payload;\n      console.log(state);\n      console.log(payload);\n    });\n    builder.addCase(editApiProduct.rejected, (state, { payload }) => {\n      state.status = \"failed\";\n      state.error = payload.error.message;\n    });\n  },\n});\n\nexport default productSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { v4 as uuid } from \"uuid\";\nconst initialState = {\n  products: []\n};\nexport const fetchProduct = createAsyncThunk(\"products/fetchProduct\", () => {\n  return axios.get(\"https://652a1c1155b137ddc83f4d53.mockapi.io/product\").then(response => response.data.map(data => data.id));\n});\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    //function untuk menambahkan data object yang ada pada array products di initialState\n    addProduct: (state, actions) => {\n      state.products = [...state.products, actions.payload];\n      console.log(\"cheked:\", actions.payload);\n    },\n    //function untuk melakukan edit data object yang telah ada pada array products\n    editProduct: (state, actions) => {\n      const {\n        id,\n        name,\n        category,\n        image,\n        freshness,\n        additional,\n        price\n      } = actions.payload;\n      const productIndex = state.products.findIndex(data => data.id === id);\n      if (productIndex !== -1) {\n        state.products[productIndex] = {\n          ...state.products[productIndex],\n          name: name,\n          category: category,\n          image: image,\n          freshness: freshness,\n          additional: additional,\n          price: price\n        };\n      }\n    },\n    //function untuk melakukan penghapusan data yang ada\n    deleteProduct: (state, action) => {\n      state.products = state.products.filter(data => {\n        if (data.id !== action.payload) {\n          return {\n            data\n          };\n        }\n        return alert(\"Apakah anda ingin menghapus product ini?\");\n      });\n    }\n  }\n});\nexport const {\n  addProduct,\n  editProduct,\n  deleteProduct\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","v4","uuid","initialState","products","fetchProduct","get","then","response","data","map","id","productSlice","name","reducers","addProduct","state","actions","payload","console","log","editProduct","category","image","freshness","additional","price","productIndex","findIndex","deleteProduct","action","filter","alert","reducer"],"sources":["/home/aboutme/Documents/react_dady-bima/22_Introduction Restfull API/Pratikum/my-app/src/redux/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  products: [],\n};\n\nexport const fetchProduct = createAsyncThunk(\"products/fetchProduct\", () => {\n  return axios\n    .get(\"https://652a1c1155b137ddc83f4d53.mockapi.io/product\")\n    .then((response) => response.data.map((data) => data.id));\n});\n\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    //function untuk menambahkan data object yang ada pada array products di initialState\n    addProduct: (state, actions) => {\n      state.products = [...state.products, actions.payload];\n      console.log(\"cheked:\", actions.payload);\n    },\n\n    //function untuk melakukan edit data object yang telah ada pada array products\n    editProduct: (state, actions) => {\n      const { id, name, category, image, freshness, additional, price } =\n        actions.payload;\n      const productIndex = state.products.findIndex((data) => data.id === id);\n      if (productIndex !== -1) {\n        state.products[productIndex] = {\n          ...state.products[productIndex],\n          name: name,\n          category: category,\n          image: image,\n          freshness: freshness,\n          additional: additional,\n          price: price,\n        };\n      }\n    },\n\n    //function untuk melakukan penghapusan data yang ada\n    deleteProduct: (state, action) => {\n      state.products = state.products.filter((data) => {\n        if (data.id !== action.payload) {\n          return { data };\n        }\n        return alert(\"Apakah anda ingin menghapus product ini?\");\n      });\n    },\n  },\n});\n\nexport const { addProduct, editProduct, deleteProduct } = productSlice.actions;\n\nexport default productSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,EAAE,IAAIC,IAAI,QAAQ,MAAM;AAEjC,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE;AACZ,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGP,gBAAgB,CAAC,uBAAuB,EAAE,MAAM;EAC1E,OAAOE,KAAK,CACTM,GAAG,CAAC,qDAAqD,CAAC,CAC1DC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAED,IAAI,IAAKA,IAAI,CAACE,EAAE,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAGb,WAAW,CAAC;EACtCc,IAAI,EAAE,UAAU;EAChBV,YAAY;EACZW,QAAQ,EAAE;IACR;IACAC,UAAU,EAAEA,CAACC,KAAK,EAAEC,OAAO,KAAK;MAC9BD,KAAK,CAACZ,QAAQ,GAAG,CAAC,GAAGY,KAAK,CAACZ,QAAQ,EAAEa,OAAO,CAACC,OAAO,CAAC;MACrDC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,OAAO,CAACC,OAAO,CAAC;IACzC,CAAC;IAED;IACAG,WAAW,EAAEA,CAACL,KAAK,EAAEC,OAAO,KAAK;MAC/B,MAAM;QAAEN,EAAE;QAAEE,IAAI;QAAES,QAAQ;QAAEC,KAAK;QAAEC,SAAS;QAAEC,UAAU;QAAEC;MAAM,CAAC,GAC/DT,OAAO,CAACC,OAAO;MACjB,MAAMS,YAAY,GAAGX,KAAK,CAACZ,QAAQ,CAACwB,SAAS,CAAEnB,IAAI,IAAKA,IAAI,CAACE,EAAE,KAAKA,EAAE,CAAC;MACvE,IAAIgB,YAAY,KAAK,CAAC,CAAC,EAAE;QACvBX,KAAK,CAACZ,QAAQ,CAACuB,YAAY,CAAC,GAAG;UAC7B,GAAGX,KAAK,CAACZ,QAAQ,CAACuB,YAAY,CAAC;UAC/Bd,IAAI,EAAEA,IAAI;UACVS,QAAQ,EAAEA,QAAQ;UAClBC,KAAK,EAAEA,KAAK;UACZC,SAAS,EAAEA,SAAS;UACpBC,UAAU,EAAEA,UAAU;UACtBC,KAAK,EAAEA;QACT,CAAC;MACH;IACF,CAAC;IAED;IACAG,aAAa,EAAEA,CAACb,KAAK,EAAEc,MAAM,KAAK;MAChCd,KAAK,CAACZ,QAAQ,GAAGY,KAAK,CAACZ,QAAQ,CAAC2B,MAAM,CAAEtB,IAAI,IAAK;QAC/C,IAAIA,IAAI,CAACE,EAAE,KAAKmB,MAAM,CAACZ,OAAO,EAAE;UAC9B,OAAO;YAAET;UAAK,CAAC;QACjB;QACA,OAAOuB,KAAK,CAAC,0CAA0C,CAAC;MAC1D,CAAC,CAAC;IACJ;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEjB,UAAU;EAAEM,WAAW;EAAEQ;AAAc,CAAC,GAAGjB,YAAY,CAACK,OAAO;AAE9E,eAAeL,YAAY,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
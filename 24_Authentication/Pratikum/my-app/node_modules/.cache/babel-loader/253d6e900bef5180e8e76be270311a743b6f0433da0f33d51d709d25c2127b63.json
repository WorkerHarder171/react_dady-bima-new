{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n// import { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  products: [],\n  status: \"idle\",\n  error: null\n};\nexport const fetchProduct = createAsyncThunk(\"products/fetchProduct\", async () => {\n  try {\n    const response = await axios.get(\"https://652a1c1155b137ddc83f4d53.mockapi.io/product\");\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n});\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(fetchProduct.pending, state => {\n      state.status = \"loading\";\n    }).addCase(fetchProduct.fulfilled, (state, action) => {\n      state.status = \"succeeded\";\n      state.products = action.payload;\n    }).addCase(fetchProduct.rejected, (state, action) => {\n      state.status = \"failed\";\n      state.error = action.error.message;\n    });\n  }\n  // reducers: {\n  //   //function untuk menambahkan data object yang ada pada array products di initialState\n  //   addProduct: (state, actions) => {\n  //     state.products = [...state.products, actions.payload];\n  //     console.log(\"cheked:\", actions.payload);\n  //   },\n\n  //   //function untuk melakukan edit data object yang telah ada pada array products\n  //   editProduct: (state, actions) => {\n  //     const { id, name, category, image, freshness, additional, price } =\n  //       actions.payload;\n  //     const productIndex = state.products.findIndex((data) => data.id === id);\n  //     if (productIndex !== -1) {\n  //       state.products[productIndex] = {\n  //         ...state.products[productIndex],\n  //         name: name,\n  //         category: category,\n  //         image: image,\n  //         freshness: freshness,\n  //         additional: additional,\n  //         price: price,\n  //       };\n  //     }\n  //   },\n\n  //   //function untuk melakukan penghapusan data yang ada\n  //   deleteProduct: (state, action) => {\n  //     state.products = state.products.filter((data) => {\n  //       if (data.id !== action.payload) {\n  //         return { data };\n  //       }\n  //       return alert(\"Apakah anda ingin menghapus product ini?\");\n  //     });\n  //   },\n  // },\n});\n\nexport const {\n  addProduct,\n  editProduct,\n  deleteProduct\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","products","status","error","fetchProduct","response","get","data","productSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","addProduct","editProduct","deleteProduct","actions","reducer"],"sources":["/home/aboutme/Documents/react_dady-bima/22_Introduction Restfull API/Pratikum/my-app/src/redux/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n// import { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  products: [],\n  status: \"idle\",\n  error: null,\n};\n\nexport const fetchProduct = createAsyncThunk(\n  \"products/fetchProduct\",\n  async () => {\n    try {\n      const response = await axios.get(\n        \"https://652a1c1155b137ddc83f4d53.mockapi.io/product\"\n      );\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n);\n\nexport const productSlice = createSlice({\n  name: \"products\",\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchProduct.pending, (state) => {\n        state.status = \"loading\";\n      })\n      .addCase(fetchProduct.fulfilled, (state, action) => {\n        state.status = \"succeeded\";\n        state.products = action.payload;\n      })\n      .addCase(fetchProduct.rejected, (state, action) => {\n        state.status = \"failed\";\n        state.error = action.error.message;\n      });\n  },\n  // reducers: {\n  //   //function untuk menambahkan data object yang ada pada array products di initialState\n  //   addProduct: (state, actions) => {\n  //     state.products = [...state.products, actions.payload];\n  //     console.log(\"cheked:\", actions.payload);\n  //   },\n\n  //   //function untuk melakukan edit data object yang telah ada pada array products\n  //   editProduct: (state, actions) => {\n  //     const { id, name, category, image, freshness, additional, price } =\n  //       actions.payload;\n  //     const productIndex = state.products.findIndex((data) => data.id === id);\n  //     if (productIndex !== -1) {\n  //       state.products[productIndex] = {\n  //         ...state.products[productIndex],\n  //         name: name,\n  //         category: category,\n  //         image: image,\n  //         freshness: freshness,\n  //         additional: additional,\n  //         price: price,\n  //       };\n  //     }\n  //   },\n\n  //   //function untuk melakukan penghapusan data yang ada\n  //   deleteProduct: (state, action) => {\n  //     state.products = state.products.filter((data) => {\n  //       if (data.id !== action.payload) {\n  //         return { data };\n  //       }\n  //       return alert(\"Apakah anda ingin menghapus product ini?\");\n  //     });\n  //   },\n  // },\n});\n\nexport const { addProduct, editProduct, deleteProduct } = productSlice.actions;\n\nexport default productSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB;;AAEA,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGP,gBAAgB,CAC1C,uBAAuB,EACvB,YAAY;EACV,IAAI;IACF,MAAMQ,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAC9B,qDACF,CAAC;IACD,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,OAAO,MAAMK,YAAY,GAAGV,WAAW,CAAC;EACtCW,IAAI,EAAE,UAAU;EAChBT,YAAY;EACZU,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACR,YAAY,CAACS,OAAO,EAAGC,KAAK,IAAK;MACxCA,KAAK,CAACZ,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDU,OAAO,CAACR,YAAY,CAACW,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAClDF,KAAK,CAACZ,MAAM,GAAG,WAAW;MAC1BY,KAAK,CAACb,QAAQ,GAAGe,MAAM,CAACC,OAAO;IACjC,CAAC,CAAC,CACDL,OAAO,CAACR,YAAY,CAACc,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACjDF,KAAK,CAACZ,MAAM,GAAG,QAAQ;MACvBY,KAAK,CAACX,KAAK,GAAGa,MAAM,CAACb,KAAK,CAACgB,OAAO;IACpC,CAAC,CAAC;EACN;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC,CAAC;;AAEF,OAAO,MAAM;EAAEC,UAAU;EAAEC,WAAW;EAAEC;AAAc,CAAC,GAAGd,YAAY,CAACe,OAAO;AAE9E,eAAef,YAAY,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}